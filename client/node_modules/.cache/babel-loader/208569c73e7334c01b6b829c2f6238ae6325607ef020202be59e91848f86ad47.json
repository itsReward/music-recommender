{"ast":null,"code":"var _jsxFileName = \"/home/zeus/Development/music-recommender/client/src/pages/Recommendations.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SongCard from '../components/SongCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Recommendations = () => {\n  _s();\n  const [recommendations, setRecommendations] = useState({\n    content: [],\n    collaborative: [],\n    hybrid: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('hybrid');\n  useEffect(() => {\n    const fetchRecommendations = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch all types of recommendations\n        const [contentRes, collaborativeRes, hybridRes] = await Promise.all([axios.get('/api/recommendations/content-based'), axios.get('/api/recommendations/collaborative'), axios.get('/api/recommendations/hybrid')]);\n        setRecommendations({\n          content: contentRes.data.recommendations || [],\n          collaborative: collaborativeRes.data.recommendations || [],\n          hybrid: hybridRes.data.recommendations || []\n        });\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching recommendations:', err);\n        setError('Failed to load recommendations. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchRecommendations();\n  }, []);\n  const handleRating = (songId, rating) => {\n    // Update recommendations after rating\n    setRecommendations(prev => ({\n      content: prev.content.map(song => song._id === songId ? {\n        ...song,\n        userRating: rating\n      } : song),\n      collaborative: prev.collaborative.map(song => song._id === songId ? {\n        ...song,\n        userRating: rating\n      } : song),\n      hybrid: prev.hybrid.map(song => song._id === songId ? {\n        ...song,\n        userRating: rating\n      } : song)\n    }));\n  };\n  const renderTabContent = () => {\n    const currentRecommendations = recommendations[activeTab];\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading recommendations...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }, this);\n    }\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 20\n      }, this);\n    }\n    if (currentRecommendations.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-recommendations\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No recommendations available yet. Try rating more songs to get better recommendations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"song-grid\",\n      children: currentRecommendations.map(song => /*#__PURE__*/_jsxDEV(SongCard, {\n        song: song,\n        onRate: handleRating\n      }, song._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommendations-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Personalized Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Discover new music based on your taste and preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendation-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'hybrid' ? 'active' : ''}`,\n        onClick: () => setActiveTab('hybrid'),\n        children: \"Best For You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'content' ? 'active' : ''}`,\n        onClick: () => setActiveTab('content'),\n        children: \"Based on Song Features\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'collaborative' ? 'active' : ''}`,\n        onClick: () => setActiveTab('collaborative'),\n        children: \"Similar Listeners\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-explanation\",\n      children: [activeTab === 'hybrid' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"These recommendations combine both content-based and collaborative filtering for the best results.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }, this), activeTab === 'content' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"These songs are recommended based on the genres, artists, and audio features similar to your favorites.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), activeTab === 'collaborative' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"These songs are recommended based on what other users with similar taste have enjoyed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"recommendations-container\",\n      children: renderTabContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n};\n_s(Recommendations, \"CTEHDD0ckXH2RwiuFEg7BiQhI9U=\");\n_c = Recommendations;\nexport default Recommendations;\nvar _c;\n$RefreshReg$(_c, \"Recommendations\");","map":{"version":3,"names":["React","useState","useEffect","axios","SongCard","jsxDEV","_jsxDEV","Recommendations","_s","recommendations","setRecommendations","content","collaborative","hybrid","loading","setLoading","error","setError","activeTab","setActiveTab","fetchRecommendations","contentRes","collaborativeRes","hybridRes","Promise","all","get","data","err","console","handleRating","songId","rating","prev","map","song","_id","userRating","renderTabContent","currentRecommendations","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onRate","onClick","_c","$RefreshReg$"],"sources":["/home/zeus/Development/music-recommender/client/src/pages/Recommendations.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SongCard from '../components/SongCard';\n\nconst Recommendations = () => {\n    const [recommendations, setRecommendations] = useState({\n        content: [],\n        collaborative: [],\n        hybrid: []\n    });\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [activeTab, setActiveTab] = useState('hybrid');\n\n    useEffect(() => {\n        const fetchRecommendations = async () => {\n            try {\n                setLoading(true);\n\n                // Fetch all types of recommendations\n                const [contentRes, collaborativeRes, hybridRes] = await Promise.all([\n                    axios.get('/api/recommendations/content-based'),\n                    axios.get('/api/recommendations/collaborative'),\n                    axios.get('/api/recommendations/hybrid')\n                ]);\n\n                setRecommendations({\n                    content: contentRes.data.recommendations || [],\n                    collaborative: collaborativeRes.data.recommendations || [],\n                    hybrid: hybridRes.data.recommendations || []\n                });\n\n                setError(null);\n            } catch (err) {\n                console.error('Error fetching recommendations:', err);\n                setError('Failed to load recommendations. Please try again later.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchRecommendations();\n    }, []);\n\n    const handleRating = (songId, rating) => {\n        // Update recommendations after rating\n        setRecommendations(prev => ({\n            content: prev.content.map(song =>\n                song._id === songId ? { ...song, userRating: rating } : song\n            ),\n            collaborative: prev.collaborative.map(song =>\n                song._id === songId ? { ...song, userRating: rating } : song\n            ),\n            hybrid: prev.hybrid.map(song =>\n                song._id === songId ? { ...song, userRating: rating } : song\n            )\n        }));\n    };\n\n    const renderTabContent = () => {\n        const currentRecommendations = recommendations[activeTab];\n\n        if (loading) {\n            return <div className=\"loading\">Loading recommendations...</div>;\n        }\n\n        if (error) {\n            return <div className=\"error-message\">{error}</div>;\n        }\n\n        if (currentRecommendations.length === 0) {\n            return (\n                <div className=\"no-recommendations\">\n                    <p>No recommendations available yet. Try rating more songs to get better recommendations!</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"song-grid\">\n                {currentRecommendations.map(song => (\n                    <SongCard\n                        key={song._id}\n                        song={song}\n                        onRate={handleRating}\n                    />\n                ))}\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"recommendations-page\">\n            <div className=\"recommendations-header\">\n                <h2>Your Personalized Recommendations</h2>\n                <p>Discover new music based on your taste and preferences</p>\n            </div>\n\n            <div className=\"recommendation-tabs\">\n                <button\n                    className={`tab ${activeTab === 'hybrid' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('hybrid')}\n                >\n                    Best For You\n                </button>\n                <button\n                    className={`tab ${activeTab === 'content' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('content')}\n                >\n                    Based on Song Features\n                </button>\n                <button\n                    className={`tab ${activeTab === 'collaborative' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('collaborative')}\n                >\n                    Similar Listeners\n                </button>\n            </div>\n\n            <div className=\"tab-explanation\">\n                {activeTab === 'hybrid' && (\n                    <p>These recommendations combine both content-based and collaborative filtering for the best results.</p>\n                )}\n                {activeTab === 'content' && (\n                    <p>These songs are recommended based on the genres, artists, and audio features similar to your favorites.</p>\n                )}\n                {activeTab === 'collaborative' && (\n                    <p>These songs are recommended based on what other users with similar taste have enjoyed.</p>\n                )}\n            </div>\n\n            <section className=\"recommendations-container\">\n                {renderTabContent()}\n            </section>\n        </div>\n    );\n};\n\nexport default Recommendations;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}